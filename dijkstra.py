
from collections import defaultdict

class Graph():
    def __init__(self):
        self.edges = defaultdict(list)
        self.weights = {}

    def add_edge(self, from_node, to_node, weight):
        self.edges[from_node].append(to_node)
        self.edges[to_node].append(from_node)
        self.weights[(from_node, to_node)] = weight
        self.weights[(to_node, from_node)] = weight


graph = Graph()

edges = [
['0', '1',56.8119926],
 ['2', '3',54.147747],
 ['3', '4',38.2396431],
 ['5', '6',55.4593964],
 ['6', '7',50.7316933],
 ['7', '8',78.6630859],
 ['8', '9',101.965912],
 ['10', '11',77.54321],
 ['12', '13',74.33707],
 ['14', '15',49.53555],
 ['16', '17',73.56373],
 ['17', '18',44.8455963],#12
 ['19', '20',53.926384],
 ['20', '21',77.80006],
 ['22', '23',116.360313],
 ['23', '24',129.8894],
 ['25', '26',110.538017],
 ['27', '28',92.2271957],
 ['28', '29',69.41606],
 ['30', '31',61.79509],
 ['31', '32',50.85038],
 ['32', '33',56.2682381],#22
 ['33', '2',52.56388],
 ['34','35',34.8031],
 ['36', '37',21.2801571],
 ['37', '38',27.9790325],
 ['39', '40',28.8460464],
 ['41', '42',37.9167023],
 ['42', '43',52.94512],
 ['44', '45',54.8423157],
 ['45', '46',49.9752274],
 ['46', '47', 54.8012161],
 ['47', '48', 49.8252029],
 ['48', '49', 61.0250778],
 ['50', '51',68.56989],
['51', '52', 91.72171],
 ['53', '54', 110.321083],
 ['55', '56', 129.467316],
 ['56', ' 57', 115.542847],
 ['58', '59', 76.22827],
 ['59', '60', 52.2885666],
 ['61', '62', 42.8082],
 ['62', '63', 71.96468],
 ['64', '65', 48.10829],
 ['66', '67',74.06645],
 ['68', '69', 77.8613052],
 ['70', '71', 102.69516],
 ['71', '72', 79.31807],
 ['72', '73', 51.5848732],
 ['73', '74', 56.1245041],
 ['75', '76', 28.8338051],
 ['77', '78', 27.5704],
 ['78', '79', 20.5454884],
 ['80', '81',34.7648125],
 ['82', '83', 47.16947],
 ['83', '84', 43.468792],
 ['84', '85', 37.57321],
 ['85', '86',40.0028763],
 ['87', '88', 39.6933136],
 ['88', '89', 29.6060772],
 ['89', '90', 36.5502],
 ['90', '91', 33.12525],
 ['92', '93', 34.9806862],
 ['93', '94', 86.35068],
 ['94', '95', 181.3536],
 ['95', '96', 37.39109],
 ['97', '98', 15.7799234],
 ['98', '99',21.809185],
 ['99', '100', 32.67492],
 ['100', '101', 34.15722],
 ['102', '103', 30.3770523],
 ['103', '104', 23.6482525],
 ['105', '106', 44.46696],
 ['106', '107', 53.4671974],
 ['107', '108', 43.7840767],
 ['109', '110', 32.6058426],
 ['110', '111',35.908905],
 ['111', '112', 32.090107],
 ['113', '114', 33.44181],
 ['114', '115', 51.9633141],
 ['115', '116', 45.52086],
 ['117', '118', 54.0268631],
 ['118', '119', 62.22411],
 ['120', '121', 38.70008],
 ['121', '122', 55.2561874],
 ['122', '123', 27.93662],
 ['123', '124',70.92878],
 ['124', '125', 46.37328],
 ['125', '126', 31.1042213],
 ['126', '127', 21.07729],
 ['128', '129', 36.6165],
 ['129', '130', 180.61441],
 ['130', '131', 84.76918],
 ['131', '132', 34.29781],
 ['133', '134', 49.7874451],
 ['135', '136', 33.61387],
 ['136', '137',37.66418],
 ['137', '138', 29.7349854],
 ['138', '139', 39.3532257],
 ['140', '141', 40.42971],
 ['141', '142', 40.35507],
 ['142', '143', 34.5136566],
 ['144', '145', 35.4205246],
 ['145', '146', 37.4157867],
 ['147', '148', 46.27181],
 ['148', '149',52.7095032],
 ['149', '150', 34.2916641],
 ['151', '152', 32.6837425],
 ['152', '153', 37.39065],
 ['153', '154', 34.59708],
 ['155', '156', 44.2402649],
 ['156', '157', 53.7415],
 ['157', '158', 44.6769676],
 ['159', '160', 22.62577],
 ['160', '161',29.8508778],
 ['162', '163', 33.979557],
 ['163', '164', 33.4651337],
 ['164', '165', 23.62489],
 ['165', '166', 16.6114235],
 ['167', '168', 22.92633],
 ['168', '169', 33.1473],
 ['169', '170', 47.29242],
 ['170', '171', 71.0481644],
 ['171', '172',27.9852257],
 ['172', '173', 56.21862],
 ['173', '174', 40.14472],
 ['175', '176', 63.3169441],
 ['176', '177', 55.37453],
 ['178', '179', 37.5393257],
 ['179', '180', 35.51228],
 ['181', '182', 27.94354],
 ['183', '184', 53.7975655],
 ['185', '186',42.8244553],
 ['186', '187', 46.09701],
 ['187', '188', 39.3077],
 ['189', '190', 34.0339279],
 ['190', '191', 39.9179764],
 ['191', '192', 40.4215279],
 ['193', '194', 99.26455],
 ['194', '195', 41.9171638],
 ['195', '196', 47.8706741],
 ['196', '197', 27.0179062],
 ['197', '198', 82.45827],
 ['198', '199', 42.04436],
 ['200', '201', 50.87112],
 ['201', '202', 55.13265],
 ['202', '203', 62.7952271],
 ['204', '205', 52.29954],
 ['205', '206', 40.1352234],
 ['206', '207', 58.1618462],
 ['207', '208',49.0305519],
 ['208', '209', 41.3290558],
 ['210', '211', 47.0471725],
 ['211', '212', 41.5100327],
 ['212', '213', 38.6583633],
 ['213', '214', 25.9623337],
 ['214', '215', 41.83554],
 ['216', '217', 53.2975235],
 ['218', '219', 42.3963356],
 ['219', '220',82.59685],
 ['220', '221', 26.9222183],
 ['221', '222', 48.40905],
 ['222', '223', 44.3169365],
 ['223', '224', 99.53744],
 ['225', '226', 35.17725],
 ['226', '227', 38.34644],
 ['227', '228', 41.2392769],
 ['228', '229', 41.0717468],
 ['230', '231', 21.91775],
 ['231', '232',51.434185],
 ['233', '234', 63.62929],
 ['234', '235', 56.5539551],
 ['235', '236', 52.3686829],
 ['237', '238', 54.7440262],
 ['239', '240', 43.1474876],
 ['240', '241', 27.386343],
 ['241', '242', 39.2773361],
 ['242', '243', 42.53011],
['243', '244',47.7801437],
 ['245', '246', 41.9845963],
 ['246', '247', 50.8504],
 ['247', '248', 60.4005775],
 ['248', '249', 42.5294838],
 ['249', '250', 53.24074],
 ['251', '252', 50.6627579],
 ['252', '253', 20.5109558],
 ['254', '255', 37.5822334],
 ['255', '256', 33.2228851],
 ['257', '258',40.8981133],
 ['258', '259', 40.44488],
 ['259', '260', 38.36571],
 ['260', '261', 35.1549454],
 ['262', '263', 32.8186646],
 ['263', '264', 36.8184166],
 ['265', '266', 53.78915],
 ['267', '268', 27.86907],
 ['269', '270',23.7283421],
 ['270', '271', 118.252663],
 ['271', '272',48.3751068],
 ['273', '274', 39.51088],
 ['274', '275', 46.16747],
 ['275', '276', 42.73832],
 ['277', '278', 26.63422],
 ['278', '279', 26.8765965],
 ['280', '281', 32.4755],
 ['281', '282',24.7478065],
 ['282', '283', 30.23779],
 ['283', '284', 30.9097443],
 ['285', '286', 43.47551],
 ['286', '287',49.8055],
 ['287', '288', 43.8038063],
 ['288', '289', 42.88861],
 ['290', '291', 21.6892166],
 ['292', '293', 22.9078655],
 ['293', '294', 32.9207268],
 ['295', '296', 50.6854324],
 ['296', '297', 36.5933876],
 ['298', '299', 51.8829536],
 ['299', '300',57.1233521],
 ['301', '302', 34.68594],
 ['303', '304', 53.8554344],
 ['304', '305', 45.58944],
 ['306', '307', 45.55169],
 ['307', '308', 53.85597],
 ['309', '310', 43.8789825],
 ['310', '311', 45.4380722],
 ['311', '312', 51.3020058],
 ['312', '313',44.443573, ],
 ['314', '315', 24.7012463],
 ['315', '316', 24.1967354],
 ['317', '318', 56.4769745],
 ['318', '319', 50.645546],
 ['320', '321', 37.5958023],
 ['321', '322', 51.2578125],
 ['323', '324', 21.7522373],
 ['325', '326', 48.5608673],
 ['326', '327',118.3515],
 ['327', '328', 24.02515],
 ['329', '330', 35.7163773],
 ['331', '332', 33.040802],
 ['332', '333', 22.7913113],
 ['334', '335', 32.34414],
 ['335', '336', 32.12523],
 ['336', '337', 26.2421913],
 ['337', '338', 32.807045],
 ['339', '340',49.7338638],
 ['341', '342', 39.59663],
 ['342', '343', 36.50303],
 ['343', '344', 41.86149],
 ['344', '345', 46.4654],
 ['1', '2', 14.245759],
 ['1',' 341', 11.5379515],
 ['86',' 2', 13.1200609],
 ['4', '5', 13.1309109],
 ['4', '75', 13.023241],
 ['40', '5',12.02406],
 ['9', '10', 13.4002886],
 ['9', '277', 12.6444206],
 ['11', '12', 13.3335447],
 ['11', '306', 13.0610781],
 ['316',' 10', 12.2389021],
 ['13', '14', 13.19996],
 ['13', '317', 13.00976],
 ['305', '12', 11.877],
 ['15', '16',13.6721582],
 ['15', '325', 6.4153285],
 ['300', '14',11.7460747],
 ['272', '16',10.1465912],
 ['18', '19',13.4814415],
 ['18', '329',12.8042583],
 ['302', '19',11.8254623],
 ['21', '22',13.7065411],
 ['21', '331',13.65283],
 ['294', '22',11.1809378],
 ['24', '25',13.2439661],
 ['24', '334',13.6058493],
 ['26', '27',12.9834156],
 ['26', '339',13.44765],
 ['284', '25',9.440114],
 ['134', '27',11.1207256],
 ['29', '30',13.4150572],
 ['29', '34',13.4128838],
 ['81', '30',11.3278446],
 ['35', '36',13.6353846],
 ['35', '82',10.5694094],
 ['49', '34',6.371152],
 ['345', '36',5.62541437],
 ['38', '39',12.8487291],
 ['38', '87',11.6294994],
 ['40', '41',9.11751],
 ['139', '39',12.9200954],
 ['74', '41',13.3560247],
 ['43', '44',12.7648411],
 ['43', '341',8.773536],
 ['86', '44',6.48807335],
 ['49', '50',13.4971886],
 ['81', '50',10.008709],
 ['52', '53',13.0619764],
 ['52', '339',6.18179655],
 ['54', '55',13.167882],
 ['54', '334',4.9052887],
 ['134', '53',10.0753307],
 ['284', '55',11.0977087],
 ['57', '58',13.3049812],
 ['57', '331',6.24675274],
 ['294', '58',9.877463],
 ['60', '61',13.2005558],
 ['60', '329',7.02805758],
 ['302', '61',8.7254715],
 ['63', '64',12.4938564],
 ['63', '325',13.1699839],
 ['65', '66',13.4334822],
 ['65', '317',7.02337837],
 ['272', '64',11.1050043],
 ['67', '68',13.1144266],
 ['67', '306',7.06668],
 ['300', '66',9.173447],
 ['69', '70',13.67836],
 ['69', '277',7.65836048],
 ['305', '68',9.029944],
 ['316', '70',8.607113],
 ['74', '75',7.324438],
 ['76', '77',13.0067825],
 ['76', '87',9.05975151],
 ['139', '77',6.89620733],
 ['79', '80',13.3237782],
 ['79', '82',10.5253391],
 ['345', '80',13.5152073],
 ['91', '92',5.191754],
 ['91', '133',14.0182018],
 ['340', '92',13.3249378],
 ['96', '97',13.1266012],
 ['96', '167',7.23406553],
 ['127', '97',13.3076811],
 ['101', '102',13.6367445],
 ['101', '193',9.9759655],
 ['224', '102',6.72920036],
 ['104', '105',13.5059662],
 ['104', '265',9.408032],
 ['184', '105',6.96440458],
 ['108', '109',12.0242367],
 ['108', '269',11.6434135],
 ['328', '109',13.115346],
 ['112', '113',13.3696508],
 ['112', '273',8.862387],
 ['188', '113',7.385539],
 ['116', '117',12.9979315],
 ['116', '178',7.28932667],
 ['146', '117',8.704404],
 ['119', '120',13.38347],
 ['119', '140',5.534253],
 ['192', '120',10.81165],
 ['127', '128',12.0854168],
 ['166', '128',9.687685],
 ['132', '133',13.4835749],
 ['132', '135',10.02663],
 ['340', '135',11.1737289],
 ['174', '140',13.76527],
 ['143', '144',5.8811636],
 ['143', '181',13.4367018],
 ['268', '144',13.2562809],
 ['146', '147',11.9912653],
 ['177', '147',13.2195635],
 ['150', '151',13.6425743],
 ['150', '273',12.1243744],
 ['188', '151',13.0645018],
 ['154', '155',13.8770628],
 ['154', '269',10.3180666],
 ['328', '155',7.11738348],
 ['158', '159',12.3973913],
 ['158', '265',11.56407],
 ['184', '159',12.7447453],
 ['161', '162',13.3072014],
 ['161', '193',11.6522493],
 ['224', '162',13.3506384],
 ['166', '167',13.8305454],
    ['174', '175',13.3852615],
['192', '175',10.4856939],
['177', '178',12.9019537],
['180', '181',13.2921534],
['180', '189',10.8474245],
['182', '183',13.1952257],
   ['182', '185',5.907628],
   ['276', '183',10.4882154],
   ['266', '185',13.7386818],
   ['268', '189',10.1853352],
   ['199', '200',12.9773788],
   ['199', '237',6.230363],
   ['217', '200',12.7924719],
   ['203', '204',13.1606178],
   ['203', '251',9.0483],
   ['232', '204',6.955907],
   ['209', '210',13.1686544],
   ['209', '262',7.911699],
   ['256', '210',8.139193],
   ['215', '216',12.4208241],
   ['215', '225',7.098185],
   ['217', '218',11.064661],
   ['261', '216',8.258821],
   ['236', '218',9.832344],
   ['238', '225',12.7306242],
   ['229', '230',12.9026089],
   ['229', '254',6.80523968],
   ['264', '230',12.2222071],
   ['232', '233',13.0391273],
   ['250', '233',13.2686357],
   ['236', '237',13.4316921],
   ['238', '239',13.5243654],
   ['261', '239',11.9574852],
   ['244', '245',13.2613039],
   ['244', '262',12.5514622],
   ['256', '245',12.3718786],
   ['250', '251',14.4357748],
   ['253', '254',11.1845675],
   ['253', '257',11.6798182],
   ['264', '257',13.1758556],
   ['266', '267',10.857626],
   ['276', '267',12.6860714],
   ['279', '280',6.982214],
   ['279', '285',8.241929],
   ['313', '280',12.5594883],
   ['338', '285',12.1083746],
   ['289', '290',8.412766],
   ['289', '303',13.1465435],
   ['291', '292',8.755479],
   ['291', '295',13.0583153],
   ['308', '290',7.089138],
   ['322', '292',11.9644985],
   ['333', '295',6.784435],
   ['297', '298',13.3426838],
   ['297', '301',13.5715914],
   ['330', '298',12.6929808],
   ['319', '301',12.95456],
   ['324', '303',12.5539923],
   ['308', '309',7.41709566],
   ['324', '309',11.8435774],
   ['313', '314',13.5114956],
   ['338', '314',11.4295034],
   ['319', '320',9.904045],
   ['330', '320',12.8921642],
   ['322', '323',13.6705532],
   ['333', '323',13.6705532]
]



for edge in edges:
    graph.add_edge(*edge)

def dijsktra(graph, initial, end):
    shortest_paths = {initial: (None, 0)}
    current_node = initial
    visited = set()

    while current_node != end:
        visited.add(current_node)
        destinations = graph.edges[current_node]
        weight_to_current_node = shortest_paths[current_node][1]

        for next_node in destinations:
            weight = graph.weights[(current_node, next_node)] + weight_to_current_node
            if next_node not in shortest_paths:
                shortest_paths[next_node] = (current_node, weight)
            else:
                current_shortest_weight = shortest_paths[next_node][1]
                if current_shortest_weight > weight:
                    shortest_paths[next_node] = (current_node, weight)

        next_destinations = {node: shortest_paths[node] for node in shortest_paths if node not in visited}
        if not next_destinations:
            return "Route Not Possible"
        current_node = min(next_destinations, key=lambda k: next_destinations[k][1])
    path = []
    while current_node is not None:
        path.append(current_node)
        next_node = shortest_paths[current_node][0]
        current_node = next_node
    path = path[::-1]
    print(path)
    return path




